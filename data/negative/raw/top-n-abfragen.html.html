<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="de"><head prefix="og: http://ogp.me/ns#"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link type="text/css" rel="stylesheet" media="all" href="/static/util.iFvhahys.css"><title>Top-N Abfragen in SQL: nur die ersten N-Zeilen ausgeben</title><meta name="description" content="LIMIT – oder FETCH FIRST – bricht die Ausführung einer SQL Abfrage nach N Zeilen ab. Der richtige Index macht solche Abfragen schnell."><link rel="canonical" href="http://use-the-index-luke.com/de/sql/partielle-ergebnisse/top-n-abfragen"><link rel="alternate" hreflang="fr" href="http://use-the-index-luke.com/fr/sql/resultats-partiels/selectionner-les-n-premieres-lignes"><link rel="alternate" hreflang="en" href="http://use-the-index-luke.com/sql/partial-results/top-n-queries"><link rel="alternate" hreflang="es" href="http://use-the-index-luke.com/es/sql/resultados-parciales/sentencia-top-n"><link rel="alternate" hreflang="ja" href="http://use-the-index-luke.com/ja/sql/partial-results/top-n-queries"><meta property="og:title" content="Top-N Abfragen in SQL: nur die ersten N-Zeilen ausgeben"><meta property="og:description" content="LIMIT – oder FETCH FIRST – bricht die Ausführung einer SQL Abfrage nach N Zeilen ab. Der richtige Index macht solche Abfragen schnell."><meta property="og:image" content="https://use-the-index-luke.com/static/util_squirrel.og.fMeqdSQq.png"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@SQLPerfTipp"><meta name="twitter:creator" content="@MarkusWinand"><link rel="apple-touch-icon" sizes="180x180" href="/static/favicon-180.FOHXBVbP.png"><meta name="msapplication-TileImage" content="/static/favicon-180.FOHXBVbP.png"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="alternate" type="application/rss+xml" href="/blog/feed" title="Der Use The Index, Luke Blog"><noscript><style>.needsjs {display:none !important;}</style></noscript><script>document.documentElement.className="js-early";</script></head><body><div id="page-wrapper"><div id="page"><div id="header"><a rel="home" href="/de" style="display:block; width: 100%; height:100%"></a></div><div id="main-wrapper"><div class="clearfix"><div class="region-content-top"><div class="flags"></div><form action="/" method="get" class="needsjs"><div><select name="u" onchange="changeLang(this)"><option value="/de/sql/partielle-ergebnisse/top-n-abfragen" selected>Deutsch</option><option value="/fr/sql/resultats-partiels/selectionner-les-n-premieres-lignes">Français</option><option value="/sql/partial-results/top-n-queries">English</option><option value="/es/sql/resultados-parciales/sentencia-top-n">Español</option><option value="/ja/sql/partial-results/top-n-queries">日本語</option></select></div></form><noscript><p class="translator">[ DE | <a href="/fr/sql/resultats-partiels/selectionner-les-n-premieres-lignes">FR</a> | <a href="/sql/partial-results/top-n-queries">EN</a> | <a href="/es/sql/resultados-parciales/sentencia-top-n">ES</a> | <a href="/ja/sql/partial-results/top-n-queries">JA</a> ]</p></noscript><p class="translator">von <a href="//winand.at/">Markus Winand</a>.</p></div><div id="content"><div class="section"><div class="breadcrumb"><a href="/de/sql/inhaltsverzeichnis">Inhaltsverzeichnis</a><span> › </span><a href="/de/sql/partielle-ergebnisse">Teilergebnisse</a><span> › </span></div><h1 id="main-title">Top-N-Zeilen abfragen</h1><hr><div id="content-area"><div class="node-type-book"><div class="content"><div id="article"><p>Top-N-Abfragen sind Abfragen, die das Ergebnis auf eine bestimmte Zeilen­zahl beschränken. Das sind häufig Abfragen nach den aktuellsten oder „besten“ Einträgen. Für eine effiziente Ausführung dieser Abfragen muss das Ranking mittels <a href="/de/sql/sortieren-gruppieren/indexed-order-by">pipelined <code class="command">order by</code></a> durchgeführt werden.</p><p>Die einfachste Möglichkeit nur die ersten Zeilen einer Abfrage zu laden ist — nur die ersten Zeilen zu laden und die Ausführung durch die Ap­pli­ka­ti­on abzubrechen. Das kann der Optimizer allerdings nicht vorausahnen, wenn er den Ausführungsplan erstellt. Um den besten Aus­füh­rungs­plan auszuwählen, muss der Optimizer aber wissen, ob letztendlich alle Zeilen geladen werden. Schließlich kann in diesem Fall ein Full-Table-Scan mit expliziter Sortierung die beste Variante sein. Werden jedoch nur die ersten zehn Zeilen benötigt, ist ein <a href="/de/sql/sortieren-gruppieren/indexed-order-by">pipelined <code class="command">order by</code></a> oft besser – obwohl die Datenbank dabei jede Zeile einzeln lesen muss. Der Optimizer muss also von Anfang an wissen, ob alle Zeilen benötigt werden, um den besten Ausführungsplan zu erstellen.</p><div class="admonition-wrapper"><div class="admonition"><span class="icon"></span><h4>Tipp</h4><p class="tweet tip-o">Sag es der Datenbank, wenn du nicht alle Zeilen brauchst.</p></div></div><p>Der SQL-Standard hat diese Notwendigkeit lange ignoriert. Die ent­sprech­ende Erweiterung (<code class="command">fetch first</code>) wurde erst mit SQL:2008 eingeführt und ist nur in aktuellen Versionen von IBM DB2, PostgreSQL, SQL Server 2012 und Oracle 12c verfügbar. Das kommt einerseits daher, dass diese Erweiterung ein „non-core feature“ ist. Andererseits aber auch daher, dass die einzelnen Datenbanken eigene Lösungen anbieten, die seit vielen Jahren etabliert sind.</p><p>Die folgenden Beispiele zeigen die jeweilige Syntax, um die aktuellsten zehn Verkäufe aus der <code>SALES</code>-Tabelle abzufragen. Die Basis ist dabei immer dieselbe: die Auflistung <em>aller</em> Verkäufe beginnend mit dem neusten. Der jeweilige Top-N-Zusatz bricht die Ausführung nur ab, sobald zehn Zeilen geladen wurden.</p><p><div class="variablelist clearfix"><dl class="db_tabs db_tabs_default" id="overview_top_n"><dt class="db2"><a href="">DB2</a></dt><dd class="db2"><p>DB2 unterstützt die <code class="command">fetch first</code>-Syntax mindestens seit Version 9 (LUW und zOS).</p><pre><code>SELECT *
  FROM sales
 ORDER BY sale_date DESC
<b> FETCH FIRST 10 ROWS ONLY</b></code></pre><p>Das propreritäre limit-Schlüsselwort wird seit DB2 LUW 9.7 unterstützt (benötigt <code>db2set DB2_COMPATIBILITY_VECTOR=MYS</code>).</p></dd><dt class="mysql"><a href="">MySQL</a></dt><dd class="mysql"><p>Bei MySQL und PostgreSQL kann man die gewünschte Zeilenzahl durch die <code class="command">limit</code>-Klausel beschränken.</p><pre><code>SELECT *
  FROM sales
 ORDER BY sale_date DESC
<b> LIMIT 10</b></code></pre></dd><dt class="oracle default oracle11g oracle12c default"><a href="">Oracle</a></dt><dd class="oracle default oracle11g oracle12c default"><p>Die Oracle Datenbank unterstützt die <code class="command">fetch first</code> Erweiterung erst seit Version 12c. Bei älteren Versionen muss man die Pseudo-Spalte <code>ROWNUM</code> verwenden, mit der jede Zeile nummeriert wird. Durch eine zusätzliche Ver­schach­telung kann man einen entsprechenden Filter formulieren.</p><pre><code><b>SELECT *
  FROM (</b>
       SELECT *
         FROM sales
        ORDER BY sale_date DESC
       )
 <b>WHERE rownum &lt;= 10</b></code></pre></dd><dt class="postgresql"><a href="">PostgreSQL</a></dt><dd class="postgresql"><p>PostgreSQL unterstützt die <code class="command">fetch first</code>-Erweiterung seit Version 8.4. Die zuvor verwendete <code><code class="command">limit</code></code>-Syntax (analog zu MySQL) kann aber auch noch bei aktuellen Versionen verwendet werden.</p><pre><code>SELECT *
  FROM sales
 ORDER BY sale_date DESC
<b> FETCH FIRST 10 ROWS ONLY</b></code></pre></dd><dt class="sqlserver"><a href="">SQL Server</a></dt><dd class="sqlserver"><p>Bei SQL Server kann man die Zeilenzahl durch den Zusatz <code>TOP</code> be­schrän­ken:</p><pre><code>SELECT <b>TOP 10</b> *
  FROM sales
 ORDER BY sale_date DESC</code></pre><p><a href="https://msdn.microsoft.com/de-de/library/ms188385(SQL.110).aspx">Ab Release 2012 setzt SQL Server die <code class="command">fetch first</code>-Erweiterung um.</a></p></dd></dl></div></p><p>Das besondere an diesen SQL-Abfragen ist, dass die Datenbanken sie jeweils als Top-N-Abfragen erkennen.</p><div class="admonition-wrapper"><div class="admonition"><span class="icon"></span><h4>Wichtig</h4><p>Die Datenbank kann eine Abfrage nur dann für ein Teilergebnis optimieren, wenn sie das von Anfang an weiß.</p></div></div><p>Wenn die Datenbank weiß, dass nur zehn Zeilen geladen werden, kann sie ein pipelined <code class="command">order by</code> bevorzugen.</p><div class="variablelist clearfix"><dl class="db_tabs db_tabs_default" id="ch07-topn-a"><dt class="db2"><a href="">DB2</a></dt><dd class="db2"><pre><code>Explain Plan
-----------------------------------------------------------------
ID | Operation                      |               Rows |   Cost
 1 | RETURN                         |                    |     24
 2 |  FETCH SALES                   |      10 of 1009326 | 458452
 3 |   IXSCAN (REVERSE) SALES_DT_PR | 1009326 of 1009326 |   2624

Predicate Information</code></pre><p>Das Top-N-Verhalten kann man in einem DB2-Ausführungsplan nicht unmittelbar ablesen, wenn keine Sortieroperation notwendig ist (ansonsten zeigt es der <a href="/de/sql/ausfuehrungsplaene/db2/erstellen#apa-db2-last_explained"><code> last_explained</code>-View</a> bei der Sortieroperation in Klammern an: <code>SORT (TOP-N) – siehe nächstes Beispiel</code>)</p><p>In diesem konkreten Beispiel kann man aber vermuten, dass es sich um eine Top-N-Abfrage handelt, da es einen plötzlichen Abfall der Zeilenschätzung gibt, die nicht durch Filterprädikate zu erklären wäre (die Predicate Information-Sektion des Ausführungsplanes ist leer).</p></dd><dt class="oracle default oracle11g oracle12c default"><a href="">Oracle</a></dt><dd class="oracle default oracle11g oracle12c default"><pre><code>-------------------------------------------------------------
| Operation                     | Name        | Rows | Cost |
-------------------------------------------------------------
| SELECT STATEMENT              |             |   <b>10</b> |    9 |
|  <b>COUNT STOPKEY</b>                |             |      |      |
|   VIEW                        |             |   10 |    9 |
|    TABLE ACCESS BY INDEX ROWID| SALES       | 1004K|    9 |
|     INDEX FULL SCAN DESCENDING| SALES_DT_PR |   10 |    3 |
-------------------------------------------------------------</code></pre></dd></dl></div><p>Der Ausführungsplan zeigt den <em>geplanten Abbruch</em> durch die Operation <code>COUNT STOPKEY</code> an. Das heißt, dass die Top-N-Abfrage erkannt wurde.</p><div class="admonition-wrapper"><div class="admonition"><span class="icon"></span><h4>Tipp</h4><p><a href="/de/sql/ausfuehrungsplaene">Anhang A, „<em>Ausführungspläne</em>“</a>, fasst die entsprechenden Operationen für <span><a href="/de/sql/ausfuehrungsplaene/db2/operationen">DB2</a>, </span><a href="/de/sql/ausfuehrungsplaene/mysql/operationen-bedeutung">MySQL</a>, <a href="/de/sql/ausfuehrungsplaene/oracle/operationen-bedeutung">Oracle</a>, <a href="/de/sql/ausfuehrungsplaene/postgresql/operationen-bedeutung">PostgreSQL</a> und <a href="/de/sql/ausfuehrungsplaene/sql-server/operationen-bedeutung">SQL Server</a> zusammen.</p></div></div><p>Die korrekte Verwendung der entsprechenden Syntax ist aber erst die halbe Miete. Die Ausführung kann nur dann effizient abgebrochen werden, wenn die darunter liegenden Operationen „am Fließband“ ausgeführt werden. Das heißt, dass die <code class="command">order by</code>-Klausel durch einen Index abgedeckt sein muss. Im konkreten Beispiel ist das der <code>SALES_DT_PR</code>-Index auf <code>SALE_DATE</code>, <code>PRODUCT_ID</code>. Dadurch entfällt die explizite Sortierung und die Datenbank kann die Zeilen direkt in der Indexreihenfolge ausgeben. Es werden also nur die Zeilen gelesen, die auch tatsächlich ausgegeben werden.</p><div class="admonition-wrapper"><div class="admonition"><span class="icon"></span><h4>Wichtig</h4><p class="tweet tip-p">Eine Top-N-Abfrage, die „am Fließband“ ausgeführt wird, muss nicht alle Daten lesen und sortieren.</p></div></div><p>Wenn es keinen Index gibt, der für ein pipelined <code class="command">order by</code> herangezogen werden kann, muss die Datenbank die Tabelle vollständig lesen und sortieren. Erst nachdem die letzte Zeile aus der Tabelle eingelesen wurde, kann das Ergebnis ausgegeben werden.</p><div class="variablelist clearfix"><dl class="print-only-oracle db_tabs db_tabs_default" id="ch07-topn-b"><dt class="db2"><a href="">DB2</a></dt><dd class="db2"><pre><code>Explain Plan
-----------------------------------------------------------
ID | Operation       |                         Rows |  Cost
 1 | RETURN          |                              | 59835
 2 |  TBSCAN         |           10 of 10 (100.00%) | 59835
 3 |   <b>SORT (TOP-N)</b>  |      10 of 1009326 (   .00%) | 59835
 4 |    TBSCAN SALES | 1009326 of 1009326 (100.00%) | 59739

Predicate Information</code></pre></dd><dt class="oracle default oracle11g oracle12c default"><a href="">Oracle</a></dt><dd class="oracle default oracle11g oracle12c default"><pre><code>--------------------------------------------------
| Operation               | Name  | Rows |  Cost |
--------------------------------------------------
| SELECT STATEMENT        |       |   <b>10</b> | 59558 |
|  COUNT STOPKEY          |       |      |       |
|   VIEW                  |       | 1004K| 59558 |
|    SORT ORDER BY STOPKEY|       | <b>1004K</b>| 59558 |
|     TABLE ACCESS FULL   | SALES | <b>1004K</b>|  9246 |
--------------------------------------------------</code></pre></dd></dl></div><p>Dieser Ausführungsplan entspricht im Wesentlichen der Variante, dass die Abfrage von der Applikation abgebrochen wird. Dennoch ist die Verwendung der Top-N-Syntax etwas effizienter, da die Datenbank nicht das gesamte Ergebnis, sondern nur die zehn aktuellsten Einträge zwi­schenspeichern muss. Der Speicherbedarf ist also signifikant geringer. Im Ausführungsplan der Oracle Datenbank wird diese Optimierung durch den <code>STOPKEY</code>-Zusatz bei der Operation <code>SORT ORDER BY</code> angezeigt.</p><p>Die Stärke einer pipelined Top-N-Abfrage liegt aber nicht nur im unmit­telbaren Performancegewinn, sondern auch in der besseren Skalierung. Während die Antwortzeit einer Top-N-Abfrage ohne pipelined <code class="command">order by</code> mit der Tabellengröße wächst, ist die Geschwindigkeit bei einer Ausführung „am Fließband“ nur von der Anzahl der selektierten Zeilen abhängig. Anders ausgedrückt ist eine pipelined Top-N-Abfrage immer gleich schnell – unabhängig von der Tabellengröße. Nur wenn die Tiefe des Indexbaumes wächst, wird die Ausführung geringfügig langsamer.</p><p><a href="#fig07_01">Abbildung 7.1</a> stellt das Performanceverhalten bei wachsender Datenmen­ge dar. Das lineare Wachstum der Antwortzeit mit steigender Datenmenge ist bei der Ausführung ohne pipelined <code class="command">order by</code> deutlich zu erkennen. Bei einer Ausführung „am Fließband“ bleibt die Antwortzeit konstant.</p><p><div class="figure" id="fig07_01"><h2>Abbildung 7.1 Skalierung von Top-N-Abfragen</h2><img src="/static/fig07_01_scalability_top_n.de.0sc62BJy.png" width="520" height="188" class="center"></div></p><p>Die Ausführungszeit einer pipelined Top-N-Abfrage hängt zwar nicht von der Tabellengröße ab, steigt aber dennoch mit der Anzahl der selektie­rten Zeilen. Die Antwortzeit verdoppelt sich also, wenn man doppelt so viele Zeilen abfragt. Das betrifft insbesondere Blätter-Abfragen, die weitere Ergebnisse nachladen. Dabei müssen Einträge der ersten Seite überlesen werden, bevor die gesuchten Einträge der zweiten Seite kommen. Doch auch dafür gibt es Abhilfe, wie der nächste Abschnitt zeigt.</p><div class="admonition-wrapper"><div class="admonition"><span class="icon"></span><h4>Links</h4><p>Artikel „<a href="http://blog.fatalmind.com/2010/09/29/finding-the-best-match-with-a-top-n-query/">Finding the Best Match With a Top-N Query</a>“</p></div></div></div><div class="book-navigation"><a class="navbar navbar-prev" href="/de/sql/partielle-ergebnisse" title="Vorher: Teilergebnisse"><span class="navbar navbar-top"></span><span class="navbar navbar-bottom">Vorherige Seite</span></a><a class="navbar navbar-next" href="/de/sql/partielle-ergebnisse/blaettern" title="Weiter: Durch Ergebnisse blättern"><span class="navbar navbar-top"></span><span class="navbar navbar-bottom">Nächste Seite</span></a></div></div></div></div><div id="below-article" class="clearfix"><h2 class="title">Über den Autor</h2><div id="authorsbio" class="clearfix"><img width="110" height="110" src="/static/markuswinand.5Ot1gTRt.jpg" alt="Foto von Markus Winand"><p>Markus Winand lehrt effizientes SQL – <a title="Der schnelle Einstieg für Entwickler" href="http://winand.at/de/leistungen/kick-start-package?utm_content=authorsbio&amp;utm_source=use-the-index-luke.com&amp;utm_campaign=sec-top-n&amp;utm_medium=web">inhouse</a> und <a title="Online-Einzelkurse die funktionieren!" href="http://winand.at/de/leistungen/sql-performance-kurs-online?utm_content=authorsbio&amp;utm_source=use-the-index-luke.com&amp;utm_campaign=sec-top-n&amp;utm_medium=web">online</a>. Er minimiert die Entwicklungszeit durch <a href="http://modern-sql.com/de" title="Seit SQL-92 hat sich einiges geändert">modernes SQL</a> und optimiert die Laufzeit durch <a title="Indizerungsanleitung für Entwickler" href="http://use-the-index-luke.com/de">schlaue Indizierung</a> – dazu hat er auch das Buch <a href="http://sql-performance-explained.de?utm_content=authorsbio&amp;utm_source=use-the-index-luke.com&amp;utm_campaign=sec-top-n&amp;utm_medium=web" title="Alles, was Entwickler über SQL-Performance wissen müssen.">SQL Performance Explained</a> veröffentlicht.</p></div><div id="promo"><div class="promo-book"><h2>Sein Buch bei Amazon kaufen</h2><div class="box-body clearfix"><a href="https://sql-performance-explained.de?utm_content=promo-book&amp;utm_source=use-the-index-luke.com&amp;utm_campaign=sec-top-n&amp;utm_medium=web"><img width="110" height="168" src="/static/9783950307818_w220.j0CplOeI.jpg" alt="Titelbild von „SQL Performance Explained“: Eichhörnchen läuft durchs Grass"></a><p>Die Essenz: SQL-Tuning auf 200 Seiten</p><p><a href="//sql-performance-explained.de/r/local-amazon?utm_content=promo-book&amp;utm_source=use-the-index-luke.com&amp;utm_campaign=sec-top-n&amp;utm_medium=web" class="gradient-button rounded-corners">Bei Amazon kaufen</a><br><small>(Taschenbuch)</small></p><p class="small">Taschenbuch und PDF auch auf <a href="//sql-performance-explained.de?utm_content=promo-book&amp;utm_source=use-the-index-luke.com&amp;utm_campaign=sec-top-n&amp;utm_medium=web">Markus' Webseite</a> erhältlich.</p></div></div><div class="promo-gap"></div><div class="promo-service"><h2>Holen Sie sich Markus</h2><div class="box-body"><p>…für ein Training ins Büro.</p><p>Sein beliebtes Training stimmt Entwickler auf SQL Performance ein.</p><p><a href="//winand.at/de/leistungen/kick-start-package?utm_content=promo-service&amp;utm_source=use-the-index-luke.com&amp;utm_campaign=sec-top-n&amp;utm_medium=web">Erfahren Sie mehr»</a></p></div></div></div><ul class="ssp first"><li class="twitter" data-ssp-variant="tweet"><div class="switch off"> </div><div class="plugin-wrapper"><a class="dummy" target="_blank" href="https://twitter.com/intent/tweet?text=LIMIT%20bricht%20die%20Ausf%C3%BChrung%20einer%20SQL%20Abfrage%20nach%20N%20Zeilen%20ab.%20Der%20richtige%20Index%20macht%20solche%20Abfragen%20schnell.%0Ahttp://use-the-index-luke.com/de/sql/partielle-ergebnisse/top-n-abfragen">Twittern</a><div class="plugin"></div></div></li><li class="twitter" data-ssp-args="MarkusWinand"><div class="switch off"> </div><div class="plugin-wrapper"><a class="dummy" target="_blank" href="https://twitter.com/MarkusWinand">@MarkusWinand folgen</a><div class="plugin"></div></div></li><li class="twitter" data-ssp-args="SQLPerfTipp"><div class="switch off"> </div><div class="plugin-wrapper"><a class="dummy" target="_blank" href="https://twitter.com/SQLPerfTipp">@SQLPerfTipp folgen</a><div class="plugin"></div></div></li></ul><ul class="ssp second"><li class="reddit"><div class="switch off"> </div><div class="plugin-wrapper"><a class="dummy" target="_blank" href="https://www.reddit.com/submit?title=Top-N-Zeilen%20abfragen&amp;url=http://use-the-index-luke.com/de/sql/partielle-ergebnisse/top-n-abfragen"><span class="vote up"></span><span class="vote down"></span>vote</a><div class="plugin"></div></div></li><li class="hackernews"><div class="switch off"> </div><div class="plugin-wrapper"><a class="dummy" target="_blank" href="https://news.ycombinator.com/submitlink?t=Top-N-Zeilen%20abfragen&amp;u=http://use-the-index-luke.com/de/sql/partielle-ergebnisse/top-n-abfragen">Vote</a><div class="plugin"></div></div></li><li class="blog"><form action="https://winand.us7.list-manage.com/subscribe?u=0144e9d4699c960039a90ad24&amp;id=a88100f1ab" method="post" target="_blank"><input type="submit" name="subscribe" class="gradient-button rounded-corners" value="Los"><input type="text" name="EMAIL" class="subscriber" placeholder="Blog via E-Mail bestellen"><input type="hidden" value="1" name="group[441][256]"></form></li></ul></div></div></div><div class="region-sidebar-first"><div class="section"><div style="position:relative"><div id="menu-3-minute-test-clock"></div><h2 class="title"><a href="/de/3-minuten-test">Der 3-Minuten Test</a></h2><div id="menu-3-minute-test"><a href="/de/3-minuten-test">Experte, Könner, oder doch nur Grünschnabel: Teste Dein SQL-Performance Wissen in nur drei Minuten ›</a></div></div><div class="block"><h2 class="title"><a href="/de/sql/inhaltsverzeichnis">Inhaltsverzeichnis</a></h2><ul class="menu"><li><a href="/de/sql/vorwort">Vorwort</a></li><li><a href="/de/sql/anatomie">Anatomie eines Indexes</a></li><li><a href="/de/sql/where">Die Where-Klausel</a></li><li><a href="/de/sql/testen-und-skalierbarkeit">Performance/Skalierbarkeit</a></li><li><a href="/de/sql/join">Die Join-Operation</a></li><li><a href="/de/sql/daten-cluster">Daten-Cluster</a></li><li><a href="/de/sql/sortieren-gruppieren">Sortieren und Gruppieren</a></li><li><a href="/de/sql/partielle-ergebnisse">Teilergebnisse</a><ul class="menu"><li><a href="" class="active">Top-N-Zeilen abfragen</a></li><li><a href="/de/sql/partielle-ergebnisse/blaettern">Durch Ergebnisse blättern</a></li><li><a href="/de/sql/partielle-ergebnisse/window-funktionen">Mit Window-Funktionen blättern</a></li></ul></li><li><a href="/de/sql/dml">Schreiboperationen</a></li><li><a href="/de/sql/ausfuehrungsplaene">Ausführungspläne</a></li><li><a href="/de/sql/mythen">Mythen-Verzeichnis</a></li><li><a href="/de/sql/beispiel-schema">Beispiel Schema</a></li><li><a href="/de/sql/glossar">Glossar</a></li></ul></div><div class="block"><div class="title-wrap"><h2 class="title">Aktuelle Blog Posts</h2></div><ul class="menu"><li><a href="/de/blog/2017-05/neuer-sql-standard-oracle-122-acidrain">Neues über Datenbanken: neuer Standard, Cloudkrieg, ACIDRain</a></li><li><a href="/de/blog/2016-11/grosse-neuigkeiten-ueber-datenbanken">Große Neuigkeiten über Datenbaken</a></li><li><a href="/blog/2016-07-29/on-ubers-choice-of-databases">On Uber's Choice of Databases</a></li><li><a href="/blog/2015-02/modern-sql">Modern SQL in PostgreSQL [and other databases]</a></li><li><a href="/blog/2014-11/seven-surprising-findings-about-DB2">Seven Surprising Findings About DB2</a></li><li><a href="/de/blog/2014-10/neu-maskottchen-sprache-datenbank">Neues Maskottchen, Neue Sprache, Neue Datenbank</a></li><li><a href="/de/no-offset">Wir brauchen Tool-Unterstützung zum Blättern mit Keysets</a></li><li><a href="/blog/2014-07/finding-all-the-red-mms">Finding All the Red M&amp;Ms: A Story of Indexes and Full‑Table Scans</a></li><li><a href="/blog/2014-05/what-i-learned-about-sqlite-at-a-postgresql-conference">What I learned about SQLite…at a PostgreSQL conference</a></li></ul></div><div class="block"><h2 class="title"><a href="/de/shop">Geek-Ware</a></h2><ul class="menu"><li><a href="/de/shop#sticker-package">Sticker</a></li><li><a href="/de/shop#coaster-package">Bierdeckel</a></li><li><a href="/de/shop#pdf-package">Bücher</a></li><li><a href="/de/shop#mug-package">Tassen</a></li></ul></div></div></div><div class="region-sidebar-second"><form action="https://winand.us7.list-manage.com/subscribe?u=0144e9d4699c960039a90ad24&amp;id=a88100f1ab" method="post" target="_blank"><input type="text" name="EMAIL" placeholder="E-Mail-Adresse"><input type="submit" name="subscribe" class="gradient-button rounded-corners" value="Blog bestellen"><input type="hidden" value="1" name="group[441][256]"></form><ul class="ssp"><li class="twitter" data-ssp-variant="tweet"><div class="switch off"> </div><div class="plugin-wrapper"><a class="dummy" target="_blank" href="https://twitter.com/intent/tweet?text=LIMIT%20bricht%20die%20Ausf%C3%BChrung%20einer%20SQL%20Abfrage%20nach%20N%20Zeilen%20ab.%20Der%20richtige%20Index%20macht%20solche%20Abfragen%20schnell.%0Ahttp://use-the-index-luke.com/de/sql/partielle-ergebnisse/top-n-abfragen">Twittern</a><div class="plugin"></div></div></li><li class="twitter" data-ssp-args="MarkusWinand"><div class="switch off"> </div><div class="plugin-wrapper"><a class="dummy" target="_blank" href="https://twitter.com/MarkusWinand">@MarkusWinand</a><div class="plugin"></div></div></li><li class="twitter" data-ssp-args="SQLPerfTipp"><div class="switch off"> </div><div class="plugin-wrapper"><a class="dummy" target="_blank" href="https://twitter.com/SQLPerfTipp">@SQLPerfTipp</a><div class="plugin"></div></div></li><li class="reddit"><div class="switch off"> </div><div class="plugin-wrapper"><a class="dummy" target="_blank" href="https://www.reddit.com/submit?title=Top-N-Zeilen%20abfragen&amp;url=http://use-the-index-luke.com/de/sql/partielle-ergebnisse/top-n-abfragen"><span class="vote up"></span><span class="vote down"></span>vote</a><div class="plugin"></div></div></li><li class="hackernews"><div class="switch off"> </div><div class="plugin-wrapper"><a class="dummy" target="_blank" href="https://news.ycombinator.com/submitlink?t=Top-N-Zeilen%20abfragen&amp;u=http://use-the-index-luke.com/de/sql/partielle-ergebnisse/top-n-abfragen">Vote</a><div class="plugin"></div></div></li></ul><img width="120" height="195" class="top_padding" src="/static/no-offset-banner-120x195.de.s-d1wwU9.svg" alt="Nicht mit OFFSET blättern"><p class="center" style="font-size:120%; margin:0.2em 0 2em 0;"><a class="gradient-button rounded-corners bold" href="/de/no-offset">Mehr info</a></p><p class="sister-site"><a href="//modern-sql.com/de">Besuche unsere Schwester-Seite!<img width="120" height="120" src="/static/modern-sql.120r.tsLdfWb4.svg" alt="Das Modern-SQL Logo">Seit SQL-92 hat sich einiges getan!</a></p></div></div></div></div></div><div id="page-closure"><div class="region-page-closure">„Use The Index, Luke!“ von <a href="//winand.at/">Markus Winand</a> ist unter einer Creative Commons Attribution-Noncommercial-No Derivative Works 3.0 Unported License lizenziert.<br><a href="/de/impressum">Impressum</a> | <a href="/de/kontakt">Kontakt</a> | <a href="/de/impressum/keine-gewaehr">KEINE GEWÄHR</a> | <a href="/de/impressum/handelsmarken">Handelsmarken</a> | <a href="/de/impressum/datenschutz">Datenschutz</a> | <a href="//creativecommons.org/licenses/by-nc-nd/3.0/" rel="license">CC-BY-NC-ND 3.0 Lizenz</a></div></div><script src="/static/util.dLL4vhcq.js"></script></body></html>
